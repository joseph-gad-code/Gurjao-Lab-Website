---
layout: default
title: "Publications"
permalink: /publications/
lab_names:
  - Gurjao
  - Boero-Teyssier
  - Hooper
  - Gad
---

<style>
:root {
  --blue: #0D5295;
  --lightblue: #6495EC;
  --black: #000000;
  --lightgray: #777;
  --border: #eee;
  --card-bg: #fff;
  --white: #fff;
}

/* Layout */
section.pubs {
  max-width: 1000px;
  margin: 0 auto;
  padding: 40px 20px;
  font-family: "Nunito", system-ui, sans-serif;
}

h2 {
  font-weight: 700;
  font-size: 20px;
  border-bottom: 2px solid #eee;
  padding-bottom: 8px;
  margin-bottom: 25px;
  margin-top: 50px;
  color: var(--black);
}

/* Selected publication cards */
.selected-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* two columns */
  gap: 20px;
}

.pub-card {
  display: flex;
  align-items: center;
  gap: 14px;
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  padding: 14px 16px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  object-fit: contain;
}

.pub-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.12);
}

.pub-image {
  width: 120px;
  height: 100px; /* consistent height */
  border-radius: 8px;
  object-fit: contain;
  flex-shrink: 0;
  margin: 0;
}

.pub-content { flex: 1; }

.pub-title {
  font-size: 16px;
  font-weight: 700;
  margin-bottom: 4px;
  line-height: 1.4;
}

.pub-title a {
  color: #000;
  text-decoration: none;
}
.pub-title a:hover { text-decoration: underline; }

.pub-authors {
  font-size: 13px;
  margin-bottom: 4px;
  color: #000;
}
.pub-authors strong { font-weight: 700; }

.pub-meta {
  font-size: 13px;
  color: var(--lightgray);
}
.pub-meta em { font-style: italic; }

.pub-button {
  display: inline-block;
  margin-top: 8px;
  background-color: var(--white);
  color: var(--lightblue);
  text-decoration: none;
  font-weight: 600;
  font-size: 13px;
  padding: 6px 12px;
  border-radius: 6px;
  border: 1px solid var(--lightblue);
  transition: background 0.2s ease, color 0.2s ease;
}
.pub-button:hover {
  background-color: var(--lightblue);
  color: var(--white);
}

/* Compact “news-card” publications */
.pub-list .pub-entry {
  border: 1px solid var(--border);
  border-radius: 10px;
  background: #fff;
  padding: 12px 16px;
  margin-bottom: 12px;
}

/* Year heading in full list */
.pub-year {
  margin-top: 30px;
  border-bottom: 1px solid var(--border);
  padding-bottom: 4px;
  color: var(--black);
  font-weight: 600;
}
</style>

<section class="pubs">
  <h2>Selected Publications</h2>

  {%- assign _empty = "" | split: "" -%}
  {%- assign pubs = site.data.publications | default: _empty -%}
  {%- assign selected = pubs | where: "selected_publication", "yes" | sort: "year" | reverse -%}

  <div class="selected-grid">
    {% for p in selected %}
      <div class="pub-card">
        {% if p.image %}
          <img src="{{ p.image | relative_url }}" alt="{{ p.title }}" class="pub-image">
        {% endif %}
        <div class="pub-content">
          <div class="pub-title">
            {%- assign _doi = p.doi | default: "" | strip -%}
            {%- if _doi != "" -%}
              <a href="https://doi.org/{{ _doi }}" target="_blank" rel="noopener">{{ p.title }}</a>
            {%- elsif p.url -%}
              <a href="{{ p.url }}" target="_blank" rel="noopener">{{ p.title }}</a>
            {%- else -%}
              {{ p.title }}
            {%- endif -%}
          </div>

          {%- comment -%} Normalize authors to an array (works if authors is a string or already an array) {%- endcomment -%}
          {%- assign authors_raw = p.authors | default: "" -%}
          {%- if authors_raw and authors_raw.first -%}
            {%- assign authors_arr = authors_raw -%}
          {%- else -%}
            {%- assign authors_arr = authors_raw
                 | replace: ', and ', '|'
                 | replace: ' and ', '|'
                 | replace: ', ', '|'
                 | split: '|' -%}
          {%- endif -%}

          <div class="pub-authors">
            {%- for author in authors_arr -%}
              {%- assign a = author | strip -%}
              {%- assign parts = a | split: " " -%}
              {%- assign last = parts | last -%}
              {%- assign initials = "" -%}
              {%- for part in parts -%}
                {%- if forloop.last == false and part != "" -%}
                  {%- assign initials = initials | append: part | slice: 0,1 | append: "." -%}
                {%- endif -%}
              {%- endfor -%}
              {%- assign abbreviated = initials | append: " " | append: last -%}
              {%- assign match = false -%}
              {%- for lab in page.lab_names -%}
                {%- assign lab_dn = lab | downcase -%}
                {%- assign a_dn = a | downcase -%}
                {%- if a_dn contains lab_dn -%}{%- assign match = true -%}{%- endif -%}
              {%- endfor -%}
              {%- if match -%}<strong>{{ abbreviated }}</strong>{%- else -%}{{ abbreviated }}{%- endif -%}{% unless forloop.last %}, {% endunless %}
            {%- endfor -%}
          </div>

          <div class="pub-meta">
            {%- comment -%} Normalize possible array journal from Crossref {%- endcomment -%}
            {%- assign _journal = p.journal -%}
            {%- if _journal and _journal.first -%}{% assign _journal = _journal.first %}{%- endif -%}
            {%- assign _year = "" -%}
            {%- if p.year and p.year.first -%}{% assign _year = p.year.first %}{%- else -%}{% assign _year = p.year %}{%- endif -%}
            {%- if _journal %}<em>{{ _journal | strip }}</em>{% if _year %}, {{ _year | strip }}{% endif %}{% elsif _year %}{{ _year | strip }}{% endif -%}
          </div>

          {% if _doi != "" %}
            <a class="pub-button" href="https://doi.org/{{ _doi }}" target="_blank" rel="noopener">Link</a>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- ===================== -->
  <!-- FULL LIST STRATIFIED BY YEAR (robust to year arrays/strings) -->
  <!-- ===================== -->

  <h2>Full List</h2>

  {%- assign others = pubs | where_exp:"p","p.selected_publication != 'yes'" | sort: "year" | reverse -%}

  {%- comment -%} Build unique year list as strings (handles year: 2020 or year: [2020]) {%- endcomment -%}
  {%- assign years = "" | split: "" -%}
  {%- for p in others -%}
    {%- capture y -%}{% if p.year and p.year.first %}{{ p.year.first }}{% else %}{{ p.year }}{% endif %}{%- endcapture -%}
    {%- assign y = y | strip -%}
    {%- if y != "" and years contains y == false -%}
      {%- assign years = years | push: y -%}
    {%- endif -%}
  {%- endfor -%}
  {%- assign years = years | sort | reverse -%}

  {%- for y in years -%}
    <h3 class="pub-year">{{ y }}</h3>

    {%- assign pubs_for_year = others | where_exp: "p", "p.year == y or (p.year and p.year[0] == y)" -%}

    <div class="pub-list">
      {% for p in pubs_for_year %}
        <div class="pub-entry">
          <div class="pub-title">
            {%- assign _doi = p.doi | default: "" | strip -%}
            {%- if _doi != "" -%}
              <a href="https://doi.org/{{ _doi }}" target="_blank" rel="noopener">{{ p.title }}</a>
            {%- elsif p.url -%}
              <a href="{{ p.url }}" target="_blank" rel="noopener">{{ p.title }}</a>
            {%- else -%}
              {{ p.title }}
            {%- endif -%}
          </div>

          {%- assign authors_raw = p.authors | default: "" -%}
          {%- if authors_raw and authors_raw.first -%}
            {%- assign authors_arr = authors_raw -%}
          {%- else -%}
            {%- assign authors_arr = authors_raw
                 | replace: ', and ', '|'
                 | replace: ' and ', '|'
                 | replace: ', ', '|'
                 | split: '|' -%}
          {%- endif -%}

          <div class="pub-authors">
            {%- for author in authors_arr -%}
              {%- assign a = author | strip -%}
              {%- assign parts = a | split: " " -%}
              {%- assign last = parts | last -%}
              {%- assign initials = "" -%}
              {%- for part in parts -%}
                {%- if forloop.last == false and part != "" -%}
                  {%- assign initials = initials | append: part | slice: 0,1 | append: "." -%}
                {%- endif -%}
              {%- endfor -%}
              {%- assign abbreviated = initials | append: " " | append: last -%}
              {%- assign match = false -%}
              {%- for lab in page.lab_names -%}
                {%- assign lab_dn = lab | downcase -%}
                {%- assign a_dn = a | downcase -%}
                {%- if a_dn contains lab_dn -%}{%- assign match = true -%}{%- endif -%}
              {%- endfor -%}
              {%- if match -%}<strong>{{ abbreviated }}</strong>{%- else -%}{{ abbreviated }}{%- endif -%}{% unless forloop.last %}, {% endunless %}
            {%- endfor -%}
          </div>

          <div class="pub-meta">
            {%- assign _journal = p.journal -%}
            {%- if _journal and _journal.first -%}{% assign _journal = _journal.first %}{%- endif -%}
            {%- if p.volume and p.volume != "" -%}{% assign _vol = p.volume %}{%- else -%}{% assign _vol = "" %}{%- endif -%}
            {%- if p.issue and p.issue != "" -%}{% assign _iss = p.issue %}{%- else -%}{% assign _iss = "" %}{%- endif -%}
            {%- if p.pages and p.pages != "" -%}{% assign _pg = p.pages %}{%- else -%}{% assign _pg = "" %}{%- endif -%}

            <em>{% if _journal %}{{ _journal | strip }}{% endif %}</em>
            {%- if _vol != "" -%}{% if _journal %},{% endif %} {{ _vol }}{%- endif -%}
            {%- if _iss != "" -%}({{ _iss }}){%- endif -%}
            {%- if _pg  != "" -%}, {{ _pg }}{%- endif -%}
            , {{ y }}
            {%- if _doi != "" -%}
              &nbsp;<a class="doi" href="https://doi.org/{{ _doi }}" target="_blank" rel="noopener" style="border:1px solid var(--lightblue); padding:2px 8px; border-radius:999px; font-size:12px;">DOI</a>
            {%- endif -%}
          </div>
        </div>
      {% endfor %}
    </div>
  {%- endfor -%}
</section>
