<nav class="navbar navbar-default" role="navigation" aria-label="Main navigation"
     style="background:#ffffff;border-bottom:0;margin-bottom:0;width:100%;">
  <div class="nav-rail"
       style="max-width:1100px;margin:0 auto;padding:0 15px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;">

    <!-- Brand -->
    <a class="navbar-brand"
       href="{{ '/' | relative_url }}"
       style="color:#0D5295 !important;font-weight:800;font-family:'Nunito',sans-serif;
              font-size:clamp(26px,3vw,34px);line-height:1;padding:16px 0;flex-shrink:0;">
      GURJAOLAB
    </a>

    <!-- Links -->
    <ul class="nav navbar-nav"
        style="display:flex;align-items:center;justify-content:flex-end;margin:0;padding:0;list-style:none;gap:16px;flex-wrap:wrap;">
      <li {% if page.url == '/' %}class="active"{% endif %}>
        <a href="{{ '/' | relative_url }}" class="navlink">Home</a>
      </li>
      <li {% if page.url contains '/research/' %}class="active"{% endif %}>
        <a href="{{ '/research/' | relative_url }}" class="navlink">Research</a>
      </li>
      <li {% if page.url contains '/publications/' %}class="active"{% endif %}>
        <a href="{{ '/publications/' | relative_url }}" class="navlink">Publications</a>
      </li>
      <li {% if page.url contains '/people/' %}class="active"{% endif %}>
        <a href="{{ '/people/' | relative_url }}" class="navlink">People</a>
      </li>
      <li {% if page.url contains '/contact/' %}class="active"{% endif %}>
        <a href="{{ '/contact/' | relative_url }}" class="navlink">Contact</a>
      </li>
    </ul>
  </div>
</nav>

<style>
  /* === Base link styles === */
  nav[aria-label="Main navigation"] .navlink {
    font-family: 'Nunito', sans-serif;
    font-weight: 600;
    background: transparent !important;
    display: inline-block;
    margin: 0;
    padding: 14px 10px 8px;
    text-decoration: none !important;
    font-size: clamp(15px, 2vw, 17px);
    color: #777 !important;
    line-height: 1.3;
    transition: color 0.15s ease;
    touch-action: manipulation;
  }

  /* Hover/focus */
  nav[aria-label="Main navigation"] .navlink:hover,
  nav[aria-label="Main navigation"] .navlink:focus {
    color: #000 !important;
    text-decoration: none !important;
  }

  /* Active link (only one underline) */
  nav[aria-label="Main navigation"] li.active > .navlink {
    color: #000 !important;
    text-decoration: underline !important;
    text-decoration-thickness: 2px;
    text-underline-offset: 6px;
  }

  /* === Responsive behavior === */
  @media (max-width: 768px) {
    nav[aria-label="Main navigation"] .nav-rail {
      flex-direction: column;
      align-items: flex-start;
      padding: 10px 20px;
    }

    nav[aria-label="Main navigation"] .navbar-brand {
      font-size: 28px !important;
      padding-bottom: 8px;
    }

    nav[aria-label="Main navigation"] .navlink {
      font-size: 18px !important; /* make buttons easily tappable */
      padding: 10px 6px;
    }

    nav[aria-label="Main navigation"] .navbar-nav {
      width: 100%;
      justify-content: flex-start;
      flex-wrap: wrap;
      gap: 12px;
    }
  }
</style>
