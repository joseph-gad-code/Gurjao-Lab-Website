<nav class="navbar navbar-default" role="navigation" aria-label="Main navigation"
     style="background:#ffffff;border-bottom:0;margin-bottom:0;overflow-x:hidden;">
  <div class="nav-rail"
       style="max-width:1100px;margin:0 auto;padding:0 15px;
              display:flex;align-items:center;flex-wrap:nowrap;white-space:nowrap;overflow-x:auto;">

    <!-- Brand -->
    <a class="navbar-brand"
       href="{{ '/' | relative_url }}"
       style="color:#0D5295 !important;font-weight:800;font-family:'Nunito',sans-serif;
              font-size:clamp(24px, 5vw, 34px);line-height:1;padding:16px 0;flex-shrink:0;">
      GURJAOLAB
    </a>

    <!-- Links -->
    <ul class="nav navbar-nav"
        style="float:none !important;display:flex;align-items:center;margin:0 0 0 auto;
               padding:0;gap:0;white-space:nowrap;flex-wrap:nowrap;flex-shrink:0;">
      <li {% if page.url == '/' %}class="active"{% endif %}>
        <a href="{{ '/' | relative_url }}">Home</a>
      </li>
      <li {% if page.url contains '/research/' %}class="active"{% endif %}>
        <a href="{{ '/research/' | relative_url }}">Research</a>
      </li>
      <li {% if page.url contains '/publications/' %}class="active"{% endif %}>
        <a href="{{ '/publications/' | relative_url }}">Publications</a>
      </li>
      <li {% if page.url contains '/people/' %}class="active"{% endif %}>
        <a href="{{ '/people/' | relative_url }}">People</a>
      </li>
      <li {% if page.url contains '/contact/' %}class="active"{% endif %}>
        <a href="{{ '/contact/' | relative_url }}">Contact</a>
      </li>
    </ul>
  </div>
</nav>

<style>
  /* === Global navbar styles === */
  nav[aria-label="Main navigation"] .navbar-nav > li > a {
    font-family: 'Nunito', sans-serif;
    font-weight: 600;
    color: #777 !important;
    background: transparent !important;
    position: relative;
    display: inline-block;
    margin: 0 10px;
    line-height: 1.2;
    padding: 14px 0 6px;
    text-decoration: none !important;
    font-size: clamp(15px, 2.8vw, 17px); /* Bigger and readable on mobile */
    transition: color 0.15s ease;
  }

  nav[aria-label="Main navigation"] .navbar-nav > li > a:visited {
    color: #777 !important;
  }

  nav[aria-label="Main navigation"] .navbar-nav > li > a:hover,
  nav[aria-label="Main navigation"] .navbar-nav > li > a:focus {
    color: #000 !important;
    text-decoration: none !important;
  }

  nav[aria-label="Main navigation"] .navbar-nav > li.active > a,
  nav[aria-label="Main navigation"] .navbar-nav > li.active > a:hover,
  nav[aria-label="Main navigation"] .navbar-nav > li.active > a:focus {
    color: #000 !important;
    text-decoration: underline !important;
    text-decoration-thickness: 2px;
    text-underline-offset: 6px;
    background: transparent !important;
  }

  /* === Small screen adjustments === */
  @media (max-width: 700px) {
    .navbar-brand {
      font-size: clamp(22px, 6vw, 30px) !important; /* Larger and more readable */
    }

    nav[aria-label="Main navigation"] .navbar-nav > li > a {
      font-size: clamp(14px, 4.2vw, 16px); /* Prevents text from shrinking too much */
      margin: 0 8px;
    }

    .nav-rail {
      padding: 0 10px;
      overflow-x: auto;
    }
  }

  @media (max-width: 400px) {
    .navbar-brand {
      font-size: clamp(20px, 7vw, 28px) !important;
    }

    nav[aria-label="Main navigation"] .navbar-nav > li > a {
      font-size: clamp(13px, 4.8vw, 15px);
      margin: 0 6px;
    }
  }
</style>
