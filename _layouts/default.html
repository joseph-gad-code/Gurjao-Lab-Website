<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{{ site.title }}{% if page.title %} - {{ page.title }}{% endif %}</title>
  <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 160 }}">

  <!-- Favicons (optional; add these files to your repo root or /assets/) -->
  <link rel="icon" href="{{ '/favicon.ico' | relative_url }}">
  <link rel="apple-touch-icon" href="{{ '/apple-touch-icon.png' | relative_url }}">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Site CSS (use your pipeline; this path is typical) -->
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

  <!-- Minimal baseline styles so the page looks OK even before SCSS builds -->
  <style>
    :root {
      --brand: #0D5295;
      --text:  #111;
      --muted: #666;
      --maxw:  1100px;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: "Nunito", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      line-height: 1.55;
    }

    /* Layout helpers */
    .wrap { max-width: var(--maxw); margin: 0 auto; padding: 0 24px; }
    main.wrap { padding-top: 24px; padding-bottom: 24px; }

    /* Header / brand / nav */
    .site-header { background: #fff; border-bottom: 1px solid #eee; }
    .site-header .bar {
      display: flex; align-items: center; justify-content: space-between;
      height: 72px;
    }
    .brand {
      font-size: 30px; font-weight: 800; letter-spacing: .5px;
      color: var(--brand); text-decoration: none; white-space: nowrap;
    }
    nav.main ul { list-style: none; margin: 0; padding: 0; display: flex; gap: 28px; }
    nav.main a {
      display: inline-block;
      padding: 6px 0;
      color: var(--text);
      text-decoration: none;
      font-weight: 400;
      font-size: 20px;
    }
    nav.main a:hover { font-weight: 700; }            /* bold on hover */
    nav.main li.active > a { text-decoration: underline; }  /* underline current */

    /* Footer */
    .site-footer { border-top: 1px solid #eee; color: var(--muted); }
    .site-footer .wrap { padding: 18px 24px; }
    .site-footer nav a { color: inherit; text-decoration: none; }
    .site-footer nav a:hover { text-decoration: underline; }
  </style>

  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">
</head>

<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="wrap bar">
      <a class="brand" href="{{ '/' | relative_url }}">{{ site.title }}</a>

      <nav class="main" aria-label="Main">
        <ul>
          {%- assign here = page.url | relative_url -%}

          {%- if site.data.nav and site.data.nav.size > 0 -%}
            {%- for item in site.data.nav -%}
              {%- assign item_url = item.url | relative_url -%}
              <li class="{% if here == item_url %}active{% endif %}">
                <a href="{{ item_url }}">{{ item.title }}</a>
              </li>
            {%- endfor -%}
          {%- else -%}
            {#-- Fallback nav if _data/nav.yml not provided --#}
            {%- assign fallback = site.data | default: nil -%}
            {%- assign items = '
              Home::/,
              Research::/research/,
              Publications::/publications/,
              People::/people/,
              Contact::/contact/
            ' | split: ',' -%}
            {%- for pair in items -%}
              {%- assign bits = pair | strip | split: '::' -%}
              {%- assign t = bits[0] | strip -%}
              {%- assign u = bits[1] | strip | relative_url -%}
              <li class="{% if here == u %}active{% endif %}">
                <a href="{{ u }}">{{ t }}</a>
              </li>
            {%- endfor -%}
          {%- endif -%}
        </ul>
      </nav>
    </div>
  </header>

  <!-- PAGE CONTENT -->
  <main class="wrap" id="content">
    {{ content }}
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="wrap">
      {% if site.footer_links %}
        <nav aria-label="Footer">
          {% for l in site.footer_links %}
            <a href="{{ l.url }}">{{ l.title }}</a>{% unless forloop.last %} Â· {% endunless %}
          {% endfor %}
        </nav>
      {% endif %}
      <p>&copy; {{ site.time | date: '%Y' }} {{ site.title }}. All rights reserved.</p>
    </div>
  </footer>

</body>
</html>
